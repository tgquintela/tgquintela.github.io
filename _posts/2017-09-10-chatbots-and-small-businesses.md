---
title: 'Chatbot: oportunidades e a miña propia proposición'
subtitle: 'Descrición da miña aventura experimentando con chatbots.'
excerpt: 'Descrición da miña aventura experimentando con chatbots. Fallaremos de cal será o futuro dos chatbots e cales serán as oportunidades do mercado.'
date: 2017-09-10
permalink: /blog/2017/09/chatbot-my-own-solution/

header:
  overlay_image: blog/chatbot/social-network-reduced.png
  overlay_filter: 0.4
tags:
  - business
  - ai and society
  - chatbots
categories:
  - tech
  - business
---



Estamos ante unha nova moda no mundo da tecnoloxía. Non é unha cousa nova, unha idea nova pero nas últimas datas o mundo empresarial pouso a súa mirada neles.
Os expertos nos negocios [[1](http://www.businessinsider.com/chatbot-monetization-market-business-strategies-opportunites-2016-11)] [[2](http://www.businessinsider.com/how-to-create-chatbot-business-2017-10)] dín que xogaran un importante papel na transformación do sector de servizos e terán un espazo importante entre as novas tecnoloxías. Pero que é iso dos chatbots? I porque é agora un gran espazo de oportunidad dintro do mundo tecnolóxico? Porque todo o mundo fala deles agora? Y que podemos esperar no futuro deles?


## Chatbots. Unha mirada rápida.

No mundo hai moitos treballos orientados a ter persoas interaccionando con posibles clientes o usuarios dun producto e poder axudarlos nas súas necesidades e acomplir os seus obxetivos. Van dende os telefonistas aos que estan nun espazo físico en un punto de información de calquer estación de trenes o evento de gran escala.

Na continua dixitalización do noso mundo e das nosas experiencias de consumo, ístes postos de treballo orientado a mellorar a experiencia de uso o de producto do cliente pode quedar monopolizado polos bots. Ístos bots destinados a ter conversacións cos usuarios, tramitar requerimentos e solventar dúbidas son os chamados chatbots.

Os chatbots non son solo unha fonte de destrucción de emprego máis son unha nova solución pra aqueles negocios que non tenen un servizo semellante o é unha persoa que debe destinar o seu tempo pra facer e decir o mesmo a diferentes persoas unha e outra vez. Íste tempo pode estar mellor empregado aumentando a calidade dos productos a ofrecer e os clientes poden estar amablemente e comodamente servidos da información polos chatbots.

Chatbots hainos de diferentes tipos según a ambición e a súa estructura interna. Pode que queramos chatbots que nos contesten preguntas fóra de contexto como se un buscador de internet fose. Buscan nunha base de datos o fan calculos pertinentes para dar unha resposta a pregunta feita. Outros buscan dar unha experiencia parecida a unha conversacion, alguns chamanlles chatbots conversacionais. Ístes hainos daqueles que buscan dar ista experiencia en un contexto e pra un obxetivo predeterminado, outros son xenerais. Poden falar do que se queira.

A diferencia de como construirlos é sustancial. Uns precisan unha limitada cantidad controlable de datos e textos mentre que outros precisan unha inxente cantidade de datos e texto, todos eles correctamente indexados.

Pero o seu uso non queda limitado o simple feito de conversar. Poden tramitar requerimentos, reservar a mesa do teu restaurante preferido, comprar as entradas do concertos que queres asistir e moitas outras posibilidades.

Pero porque agora? Os chatbots naceron nos comenzos do estudio da intelixengia artificial (AI). A máxima aspiración da intelixencia artificial sempre fou ser indistinguible do ser humano ([mírese o test de Turing](https://gl.wikipedia.org/wiki/Proba_de_Turing)) e non se pode facer iso comunicándose cas persoas mediante uns e zeros. As interfaces visuais foron un paso de mellora comunicativa pero sempre quedaba poder falar no lenguaxe humano. En tempos do nacimiento da AI tamén naceron os chatbots. ELIZA fou un chatbot desarrollado polo MIT AI Lab nos anos 60. ELIZA fou un sorprendente éxito que complia a imitar o papel dun terapista e o seu trato co paciente. Íste tenia as suas limitacións pero era capaz de cumplir cando a conversación era estandard e non habia "sorpresas". Dente entonces os chatbots evolucionaron moito. A xeneralización de *ELIZA* fou ALICE desarrollada en 1995. Esta basada en un programa que *parsea* unha serie de reglas e heurísticas escritas en un esquema específico de XML chamado AIML (Artificial Intelligence Markup Language). Entre 2000 e 2004 gañou 3 veces o premio Loebner (un premio destinado a chatbots).

A partir de 2005 comenzou unha outra época na AI, entrou en xogo o que chámase **Deep Learning**, na cual utilizando Redes Artificiais con moitas capas pode aproximarse a funcións moi complexas con propiedades específicas moi presentes en problemas do mundo real. Neste novo esquema problemas coma os de reconocimiento facial o reconocimiento de obxetos, visión por computador e outros problemas moi utiles no mundo real e moi codiciados como obxetivos da AI.

Ístas novas ferramentas estadísticas e computacionais permeten ser obtimistas e aprender patrones estadísticos en complicados textos e atacar o problema de aprendizaxe do lenguaxe natural. O que chaman como Recurrent Neural Networks e o uso de LTSM redes neuronais artificiais fan que pódase intentar extraer automáticamente información sintáctica dun texto calquera.


## Mercado e oportunidade dos chatbots

Uns dos problemas no mercado tecnolóxico ven explicado polo factor de red. A xente utiliza as cousas que esten xeneralizadas e poden ser familiares polos usuarios. O mercado tecnolóxico ven movido por avalanchas e efectos domino. As tecnoloxias comenzan sendo probadas polos chamados ["early adopters"](https://en.wikipedia.org/wiki/Early_adopter) (adoptares tempranos). Se convencen e crecen con un bo modelo de mercado e máis adiante vanse adoptando por xente máis xeral do pobo. Moitos destes productos quedanse atrapados nos *early adopters* ata que morren. Outros consiguen romper a barreira e pasan ese "*tipping point*" o punto de transición e xeneralizanse.
Ísto provoca que cando algo asemellase ao que esta a funcionar, danse fenómenos de avalancha e modas nos modelos comerciais no sector tecnolóxico. Todos queren competir por ise mesmo produto e facerse co mercado. Agora está a pasar.

Os chatbots poden ser unha forma de cambiar e facer mais escalable e fluida a estratéxia comunicativa dunha empresa o mellorar o servizo ao cliente. Estando activo 24 horas o dia tódolos dias do ano. E sempre ao mesmo nivel de calidade, que non depende de paciencia dun treballador ni da xente que procura de reclamar información ao mesmo tempo que o usuario.
Pero os chatbots non veñen a sustituir as persoas. Nin veñen a sustituir as pàxinas webs das empresas. Veñen a complementar todas as vias comunicativas de cadauhna das vias comunicativas das que dispoñen cada empresa.

Pero non só depende das posibilidades de facerlo se non as espectativas de uso. Se ben é certo que as reduccións de coste empresarial son un forte incentivo pra a parte das empresas iso non sempre ven acompañado polo interés do usuario. Cales son as espectativas de que o usuario termine usando chatbots? Pois ven, as aplicacións móbiles de mensaxeria (Facebook Messenger, Telegram, Whatsapp ...) xa son máis utilizadas (en número de usuarios e horas de tempo) que as redes sociais, aplicacións de xogos o tempo empregado a navegar polo internet [[3](http://www.microsiervos.com/archivo/gadgets/aplicaciones-mensajerias-redes-sociales.html)]. Hai profesionais e expertos que dín que a revolución pode ser tan grande coma a que se experimentou fai un lustro no mundo das aplicacións móbiles.


## Coma serán?
### Experiencia dende o punto de vista do usuario
A ventaxe dos chatbots é que non dependen de que alguén deba instalar algunha *applicación* no seu aparato. Todo treballo computacional necesario estará instalado nos servidores que teña o contrate a compañía. O usuario podrá chamar o número que corresponda e ter un chatbot de voz, o elexir a súa app preferida e buscar a empresa o servizo en cuestión.

A posibilidade de non ter que instalar unha app que non se quera, e non utilizar un gran volumen de datos o necesitar diferentes interfaces de usuario (UI) pode ser un gran incentivo añadido pra o usuario. A facilidade de uso e a velocidade de non ter que falar con unha persoa real pode levar a conversacions sen añadidos destinados a facer mais cercana a comunicación entre humanos. Preguntas de rigor, formalidades e educación quedan a un lado nesta nova realidade conversacional.

Isto pode ter consecuencias na forma de socializar entre as persoas pero seguro que terá consequencias na forma de consumir e de interaccionar cos proveedores de servizos. Dende o usuario, o mellor dito o consumidor, quere consumir cando el teña a necesidade e no momento que decida. *Netflix* e un exemplo do novo consumismo. Pra atender a todas horas e en todo momento necesitamos daxudas computacionais, os chatbots.
Ter o servizo as 24h ao dia os 365 dias ao ano, sen necesidade de ter nada extra no dispositivo propio son grandes incentivos pró usuario.


### Experiencia dende o pusto das empresas
A clave é as necesidades das empresas non é só garantir que o chatbot poda dar servizo e facer de intermediario comunicativo co usuario. Tamén ten un punto importante a posible controlabilidade de iste medio. Que profesionais da comunicación podean limitar o uso é as posiblidades diste chatbot é diseñar a estratéxia comunicativa destes.

As empresas teñen a necesidade de coidar a marca e en consecuencia coidar os detalles. Unha mala contestación, unha contestación fora de lugar o unha contestación que podea ofender é un consumidor potencial perdido.

É por iso que os chatbots, non só deben ser efectivos á ora de dar a información, pero tamén han de poder ser *tuneables*. Han de poder ser configurables e poder darlles unha *personalidade* distinta pros distintos servizos.


## A miña humilde solución

Tendo todo isto en mente vou explicar a miña solución de *software* dintro da miña limitada experiencia no mundo dos chatbots. A miña experiencia ven de buscar unha solución a alto nivel (nivel abstracto). Non veño a explicar cousas de baixo nivel ni de problemas coa integración coas plataformas de mensaxeria e coas bases de datos.

Os puntos nos que se basa ista proposición són especialmente en:
* Facilidade de programar e de configurar. Posibilidade de configuralo por un humano.
* Non é un chatbot xenérico. Non trata de poder facer unha conversación xenérica. Dentro de un contexto delimitado con unhas posibles tipo de preguntas.
* Configurable en términos abstractos como a delicadez, educación, efectivista o simpatía. Característicos da personalidade humana.

As soluciones presentadas estan disponible baixo licencia de código aperto en [[4](https://github.com/tgquintela/chatbot_query)][[5]({{ site.url }}/software/chatbotquery)]. Sentídevos libres pra xogar e propoñer melloras.

### Modelo
A miña solución está basada en *Finite State Machines* (FSM), o Máquinas de estados finitos. Cada nodo do grafo representa un posible *intend* (intención) e as transicións concentran a "intelixencia" do chatbot.

En cada *intend* temos a posibilidade de contactar coa base de datos, selecciona o crea a posible resposta, selecciona o seguinte estado o *intend* según a interacción co usuario...

O chatbot queda definido por como xenera as respostas a cada interacción, cal é o grafo que define a posible conversación e como percorre o grafo facendo transicións dun nodo a outro. Un exemplo de grafo que represente a conversación pode ser tal que:

<div id="completegraph_chatbot" style="width:100%">
<iframe src="{{ base_path }}/files/chatbot_html/CompleteGraph_chatbot.html" scrolling="no" frameborder="0" width="100%" height="100%"></iframe>
</div>
<script>
$("#completegraph_chatbot").height($("#completegraph_chatbot").width() * 0.5);
</script>


### Estructura

Pra conversacións pequenas e moi delimitadas, co ésta estructura plana é suficiente. Pero agora podemos ter conversacións relativamente complexas que poden ter centenares de *intends*. Manexar grafos de centenares de nodos pode ser impracticable. É por iso que hai que estructurar o programa pra poder configuralo facilmente e mellorar a súa usabilidade.

Pra facer iso o que podemos facer é agrupar algunhos *indends* en sub-conversacións nos que se fale dun tema (*topic*) particular. Estas conversacións poden ser configuradas como se fosen unha conversación propia. Con nodos iniciais e terminales.

Facendo isto, podemos chegar a estructuras e subestructuras conversacionais moito mas faciles de configurar. Cada parte pode ser configurada de forma separada e independente das outras.

Esta estructura xerárquica e modular axuda na configuración, e no entendemento de como "pensa" e actúa a maquina. Podemos ver exemplos desto nos seguintes gráficos.

<div id="treegraph_chatbot" style="width:100%">
<iframe src="{{ base_path }}/files/chatbot_html/TreeGraph_chatbot.html" scrolling="no" frameborder="0" width="100%" height="100%"></iframe>
</div>
<script>
$("#treegraph_chatbot").height($("#treegraph_chatbot").width() * 0.4);
</script>


<div id="statemachines_chatbot" style="width:100%">
<iframe src="{{ base_path }}/files/chatbot_html/StatemachinesGraph_chatbot.html" scrolling="no" frameborder="0" width="100%" height="100%"></iframe>
</div>
<script>
$("#statemachines_chatbot").height($("#statemachines_chatbot").width() * 0.4);
</script>


### Uso comercial
Está claro que o meu código non é comercialmente explotable pero camiña na dirección de chatbots pra pequenas empresas. Aquelas que han de contestar as mesmas preguntas unha e outra vez e que a páxina web non é a mellor forma de mostrar isa información. Información como a locación e os horarios do local, o información de productos o mesmo, reservar e tramitar compra de forma máis "*human friendly*" o máis simpático pra a xente.

Esto tamén causa problemas. Hai que ter un servidor o un servizo contratado e dende logo non todo o mundo pode ter o facer iso pola súa conta. Como non poden facer o perder tempo en aprender a facer unha páxina web. E por ese mesmo motivo polo que ábrese un mundo de negocio basado en facer, diseñar e configurar chatbots pra as necesidades de cada negocio.

Os chatbots pode convertirse en algo similar ao papel que fan as empresas de diseño web e *content management* no ecosistema empresarial. Hata pode que pra grandes empresas, teñan todo un departamento de información chéo de informáticos, técnicos e profesionales da comunicación treballando xuntos pra conseguilo.

## Conclusión
Os chatbots viñeron pra quedarse. Nas revolucións tecnolóxicas hai fases, e cada unha está articulada en pequenos cambios que axudan a acelerar outros cambios. Os chatbots son os artífices e cómplices dun cambio no modelo de consumo de servizos. A xente quere estar atendida tódolos minutos posibles. Hai moitas solucións de chatbots que intentan facer o chatbot xeneralista e humano. Pra certos servizos, non é desexable. Queremos ter control sobre a nosa estratéxia comunicativa.

Unha solución posible é basear o chatbot en *FSM*, de maneira que o usuario podea axustar o modelo xenérico ao problema particular que quere solucionar. Pra facelo presento unha solución modular facilmente configurable que pode axudar a facer unha solución simplemente e limitadamente funcional, sencilla de por a funcionar.


## Referencias
* [1] [THE CHATBOT MONETIZATION REPORT](http://www.businessinsider.com/chatbot-monetization-market-business-strategies-opportunites-2016-11)
* [2] [Open source and API driven chatbots allow businesses to build cross-platform chatbots with ease](http://www.businessinsider.com/how-to-create-chatbot-business-2017-10)
* [3] [Las apps de mensajería ya se utilizan más que las redes sociales](http://www.microsiervos.com/archivo/gadgets/aplicaciones-mensajerias-redes-sociales.html)
* [4] [ChatbotQuery github package](https://github.com/tgquintela/chatbot_query)
* [5] [ChatbotQuery project]({{ site.url }}/software/chatbotquery)
